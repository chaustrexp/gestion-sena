# ğŸ“‹ Nuevo DiseÃ±o del Modal de Asignaciones

## âœ… DiseÃ±o Implementado SegÃºn Imagen

El modal ahora sigue el orden y estructura mostrados en la imagen proporcionada:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“…  Agregar Evento                                      Ã—  â”‚
â”‚      martes, 17 de febrero de 2026                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  AMBIENTE                                                    â”‚
â”‚  [Seleccionar ambiente... â–¼]                                â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ COMPETENCIA                                            â”‚ â”‚
â”‚  â”‚ [Seleccionar competencia... â–¼]                         â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ DenominaciÃ³n: [___________________________]        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Habilidades:  [___________________________]        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ Criterios:    [___________________________]        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ TLC:          [___________________________]        â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ INSTRUCTOR                                             â”‚ â”‚
â”‚  â”‚ [Seleccionar instructor... â–¼]                          â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚ â”‚N. Horas  â”‚N. Semanasâ”‚A. Criterioâ”‚                   â”‚ â”‚
â”‚  â”‚ â”‚[____]    â”‚[____]    â”‚[____]    â”‚                    â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  FICHA (oculto si viene preseleccionada)                    â”‚
â”‚  [Seleccionar ficha... â–¼]                                   â”‚
â”‚                                                              â”‚
â”‚  FECHA                                                       â”‚
â”‚  Fecha Inicio: [2026-02-17]  Fecha Fin: [2026-02-17]       â”‚
â”‚                                                              â”‚
â”‚  HORAS                                                       â”‚
â”‚  h. ini: [06:00]  h. fin: [17:00]                          â”‚
â”‚  Horario: 6:00 AM - 10:00 PM                                â”‚
â”‚                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  [ âœ– Cancelar ]  [ âœ“ Guardar ]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Orden de los Campos

### 1. AMBIENTE (arriba)
- Select simple
- Sin subcampos
- Campo opcional

### 2. COMPETENCIA (con subcampos)
- Select principal de competencia
- Subcampos en caja con fondo blanco:
  - **DenominaciÃ³n**: Texto libre
  - **Habilidades**: Texto libre
  - **Criterios**: Texto libre
  - **TLC**: Texto libre
- Fondo gris claro (#f9fafb) para la secciÃ³n completa

### 3. INSTRUCTOR (con subcampos)
- Select principal de instructor (REQUERIDO)
- Subcampos en grid de 3 columnas:
  - **N. Horas**: Campo numÃ©rico
  - **N. Semanas**: Campo numÃ©rico
  - **A. Criterio**: Texto libre
- Fondo gris claro (#f9fafb) para la secciÃ³n completa

### 4. FICHA
- Select de ficha
- Se oculta automÃ¡ticamente si viene preseleccionada por URL
- Cuando estÃ¡ preseleccionada, se envÃ­a como campo hidden

### 5. FECHA
- Grid de 2 columnas
- **Fecha Inicio**: Campo date
- **Fecha Fin**: Campo date
- Valores por defecto: fecha actual

### 6. HORAS
- Grid de 2 columnas
- **h. ini**: Campo time (valor por defecto: 06:00)
- **h. fin**: Campo time (valor por defecto: 17:00)
- Texto informativo: "Horario: 6:00 AM - 10:00 PM"

### 7. BOTONES
- Separador visual (lÃ­nea gris)
- **Cancelar** (gris): Cierra el modal
- **Guardar** (verde SENA): EnvÃ­a el formulario

## ğŸ¨ Estilos Visuales

### Secciones con Subcampos
```css
/* Competencia e Instructor */
border: 2px solid #e5e7eb
border-radius: 8px
padding: 16px
background: #f9fafb

/* Subcampos internos */
background: white
border: 1px solid #e5e7eb
border-radius: 6px
padding: 12px
```

### Campos Simples
```css
/* Ambiente, Ficha, Fecha, Horas */
padding: 10px 12px
border: 2px solid #e5e7eb
border-radius: 6px
background: white
```

### Botones
```css
/* Cancelar */
background: #6b7280
hover: #4b5563

/* Guardar */
background: linear-gradient(135deg, #39A900 0%, #007832 100%)
box-shadow: 0 4px 12px rgba(57, 169, 0, 0.3)
hover: translateY(-2px) + shadow mÃ¡s grande
```

## ğŸ”§ Funcionalidad

### Ficha Preseleccionada
Cuando se accede con `?ficha_id=123`:
1. El campo Ficha se oculta visualmente (`display: none`)
2. Se crea un `<input type="hidden">` con el valor
3. El formulario envÃ­a el valor correctamente

### ValidaciÃ³n
- **Instructor**: Campo requerido
- **Fecha Inicio**: Campo requerido
- **Fecha Fin**: Campo requerido
- **Hora Inicio**: Campo requerido (06:00 por defecto)
- **Hora Fin**: Campo requerido (17:00 por defecto)

### Campos Opcionales
- Ambiente
- Competencia (y todos sus subcampos)
- Todos los subcampos de Instructor
- Todos los subcampos de Competencia

## ğŸ“Š Estructura de Datos Enviados

```php
POST /dashboard_sena/views/asignacion/index.php
{
    "crear_asignacion": "1",
    "ambiente_id": "A101",
    "competencia_id": "1",
    "comp_denominacion": "Desarrollo de Software",
    "comp_habilidades": "ProgramaciÃ³n, AnÃ¡lisis",
    "comp_criterios": "Criterio 1, Criterio 2",
    "comp_tlc": "TLC Info",
    "instructor_id": "5",
    "inst_num_horas": "40",
    "inst_num_semanas": "4",
    "inst_criterio": "Criterio A",
    "ficha_id": "123",
    "fecha_inicio": "2026-02-17",
    "fecha_fin": "2026-02-28",
    "hora_inicio": "06:00",
    "hora_fin": "17:00"
}
```

## ğŸš€ Ventajas del Nuevo DiseÃ±o

1. **MÃ¡s Limpio**: Sin tabla compleja, diseÃ±o mÃ¡s simple
2. **Mejor OrganizaciÃ³n**: Campos agrupados lÃ³gicamente
3. **Subcampos Visibles**: Los subcampos estÃ¡n claramente dentro de su secciÃ³n padre
4. **Responsive**: Se adapta mejor a diferentes tamaÃ±os de pantalla
5. **Menos Ruido Visual**: Sin columnas de "ESTADO" y "VERIFICADO"
6. **MÃ¡s Intuitivo**: El flujo de llenado es mÃ¡s natural

## ğŸ“± Responsive

### Desktop (> 700px)
- Modal: 700px de ancho
- Subcampos de Instructor: 3 columnas
- Fecha y Horas: 2 columnas cada uno

### Tablet (400px - 700px)
- Modal: 90% del ancho
- Subcampos de Instructor: 3 columnas (puede ajustarse)
- Fecha y Horas: 2 columnas

### Mobile (< 400px)
- Modal: 95% del ancho
- Subcampos de Instructor: 1 columna
- Fecha y Horas: 1 columna

## ğŸ”„ Diferencias con el DiseÃ±o Anterior

| Aspecto | DiseÃ±o Anterior | DiseÃ±o Nuevo |
|---------|----------------|--------------|
| Estructura | Tabla con 4 columnas | Formulario vertical |
| Estados | Badges de PENDIENTE/OPCIONAL | Sin badges |
| VerificaciÃ³n | Iconos âœ“/â³/- | Sin iconos |
| Subcampos | No existÃ­an | Agrupados visualmente |
| Orden | Ficha primero | Ambiente primero |
| DÃ­as semana | Checkboxes visibles | Comentados (opcional) |

---

**Fecha de ImplementaciÃ³n:** Febrero 2026  
**Estado:** âœ… Completado segÃºn imagen proporcionada
